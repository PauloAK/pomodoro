const FOCUS=6,SHORT_BREAK=6,LONG_BREAK=6;var currentTimerLoop=0,startMoment=null,isRunning=!1;function startTimer(){currentTimerLoop++,startMoment=new Date,isRunning=!0,setTimerSubText(getCurrentTimerText())}function cancelTimer(){currentTimerLoop--,startMoment=null,isRunning=!1,setRotation("0deg"),setTimerText(secondsToTimer(getCurrentTimer()||0)),setTimerSubText(getCurrentTimerText())}function finishTimer(){startMoment=null,isRunning=!1,setRotation("360deg"),setTimerText("Finished!"),setTimerSubText("")}function tickTimer(){if(document.getElementById("loop").value=currentTimerLoop,!isRunning)return!1;var e=getCurrentTimer(),t=Math.abs(((new Date).getTime()-startMoment.getTime())/1e3);e<=t?finishTimer():(setRotation(timeToDeg(e,t)),setTimerText(secondsToTimer(e-t)))}function timeToDeg(e,t){return 360*(100*t/e/100)+"deg"}function secondsToTimer(e){let t="",n=new Date(0);return n.setHours(0),n.setMinutes(0),n.setSeconds(e),n.getHours()&&(t+=("0"+n.getHours()).slice(-2)+":"),t+=("0"+n.getMinutes()).slice(-2)+":"+("0"+n.getSeconds()).slice(-2),t}function getCurrentTimer(){return 0==currentTimerLoop?FOCUS:currentTimerLoop%8==0?LONG_BREAK:currentTimerLoop%2==0?SHORT_BREAK:FOCUS}function getCurrentTimerText(){return 0==currentTimerLoop?"Focus":currentTimerLoop%8==0?"Long Break":currentTimerLoop%2==0?"Short Break":"Focus"}function setRotation(e){document.getElementsByClassName("timer")[0].style.setProperty("--rotation",e)}function setTimerText(e){document.getElementsByClassName("clock")[0].innerText=e}function setTimerSubText(e){document.getElementsByClassName("subText")[0].innerText=e}setRotation("0deg"),setTimerText(secondsToTimer(getCurrentTimer()||0)),setTimerSubText(getCurrentTimerText()),window.timerInterval=setInterval(()=>{tickTimer()},100),document.getElementById("startTimer").addEventListener("click",()=>{startTimer()}),document.getElementById("cancelTimer").addEventListener("click",()=>{cancelTimer()});