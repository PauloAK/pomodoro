let main=new Main;function startTimer(){setDisabled("startTimer",!0),setDisabled("pauseTimer",!1),setDisabled("cancelTimer",!1),main.pomodoro.start()}function cancelTimer(){setDisabled("startTimer",!1),setDisabled("pauseTimer",!0),setDisabled("cancelTimer",!0),main.pomodoro.reset()}function pauseTimer(){main.pomodoro.pause(),main.pomodoro.timer().isPaused()?(document.getElementById("pauseTimer_Pause").classList.value="hidden",document.getElementById("pauseTimer_Unpause").classList.value=""):(document.getElementById("pauseTimer_Pause").classList.value="",document.getElementById("pauseTimer_Unpause").classList.value="hidden")}function nextTimer(){setDisabled("startTimer",!1),setDisabled("pauseTimer",!0),setDisabled("cancelTimer",!0),main.pomodoro.next()}function setDisabled(e,t=!0){t?document.getElementById(e).setAttribute("disabled",t):document.getElementById(e).removeAttribute("disabled")}function taskManager(){return{isTaskFormModalOpen:!1,taskManager:new Tasks,currentTask:{},isEdit:!1,editTask(e=null,t=null){e?(this.isEdit=!0,this.currentTask=this.taskManager.getTask(e)):(this.isEdit=!1,this.currentTask=this.taskManager.generateNewTask(),this.currentTask.queue=t),this.isTaskFormModalOpen=!0},removeTask(e){this.taskManager.removeTask(e),this.currentTask={},this.updateTaskList()},saveTask(){this.isEdit?this.taskManager.editTask(this.currentTask.identifier,this.currentTask):this.taskManager.addTask(this.currentTask),this.currentTask={},this.isTaskFormModalOpen=!1,this.updateTaskList()},storeTasks(){window.localStorage.setItem("tasks",JSON.stringify(this.taskManager.getTasks()))},loadTasks(){this.taskManager.setTasks(JSON.parse(window.localStorage.getItem("tasks"))||[])},updateTaskList(){setTimeout(()=>{Array.from(document.getElementsByClassName("queue")).forEach(e=>{let s=e.getAttribute("queue"),a=0;Array.from(e.getElementsByClassName("task")).forEach(e=>{a++;var t=e.getAttribute("id");(e=this.taskManager.getTask(t)).queue=s,e.order=a,this.taskManager.editTask(t,e)})}),this.storeTasks()},200)},queues:["To Do","Doing","Done"],init(){this.loadTasks(),setTimeout(()=>{Array.from(document.getElementsByClassName("queue")).forEach(e=>{new Sortable(e,{group:"queues",draggable:".task",animation:100,onAdd:function(e){updateTaskList()},onUpdate:function(e){updateTaskList()},onSort:function(e){updateTaskList()}})})},250)}}}function updateTaskList(){document.querySelector('[x-data="taskManager()"]').__x.getUnobservedData().updateTaskList()}