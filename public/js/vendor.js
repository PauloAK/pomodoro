var Main=function(){function t(){var t=this;this.originalTitle=document.getElementsByTagName("title")[0].innerText.trim(),this.onTick=function(){t.updateUI()},this.onFinish=function(){t.playAlarm(),t.notifyEndSection(),window.setTimeout(function(){t.pomodoro.start()},1e3)},this.focusSection={identifier:"focus",seconds:15,label:"Focus",title:"Focus Time!"},this.shortBreakSection={identifier:"short-break",seconds:30,label:"Short Break",title:"Take a Short Break!"},this.longBreakSection={identifier:"long-break",seconds:9,label:"Long Break",title:"Take a Long Break!"},this.pomodoro=new Pomodoro(this.focusSection,this.shortBreakSection,this.longBreakSection,this.onTick,this.onFinish)}return t.prototype.updateUI=function(){this.updateTitle(),this.updateTimerText(),this.updateProgressBars()},t.prototype.updateTitle=function(){function t(t){document.getElementsByTagName("title")[0].innerText=t}var e=this.pomodoro.remainingTime(),n=this.pomodoro.getSection();this.pomodoro.isRunning()?t("üïë "+e+" - "+n.title+" | "+this.originalTitle):this.pomodoro.isPaused()?t("‚è∏Ô∏è "+e+" [Paused] - "+n.title+" | "+this.originalTitle):t(this.originalTitle)},t.prototype.updateProgressBars=function(){var t,i=this;t=this.pomodoro.timer().elapsedDeg(),document.getElementsByClassName("timer")[0].style.setProperty("--rotation",t),function(){var t=i.pomodoro.timer().elapsedPercentual(),e=i.pomodoro.getSection(),n=i.pomodoro.currentSectionID();switch(document.getElementsByClassName("timer")[0].classList.value="timer "+e.identifier,e){case i.focusSection:(n+1)%10==0?(document.getElementById("labelFocus2").style.setProperty("--fill",t+"%"),document.getElementById("labelFocus2").classList.value="label active",document.getElementById("labelFocus").style.setProperty("--fill","100%"),document.getElementById("labelFocus").classList.value="label completed",document.getElementById("labelShort").style.setProperty("--fill","100%"),document.getElementById("labelShort").classList.value="label completed"):(document.getElementById("labelFocus").style.setProperty("--fill",t+"%"),document.getElementById("labelFocus").classList.value="label active",document.getElementById("labelShort").style.setProperty("--fill","0%"),document.getElementById("labelShort").classList.value="label",document.getElementById("labelFocus2").style.setProperty("--fill","0%"),document.getElementById("labelFocus2").classList.value="label"),document.getElementById("labelLong").style.setProperty("--fill","0%"),document.getElementById("labelLong").classList.value="label";break;case i.shortBreakSection:document.getElementById("labelFocus").style.setProperty("--fill","100%"),document.getElementById("labelFocus").classList.value="label completed",document.getElementById("labelShort").style.setProperty("--fill",t+"%"),document.getElementById("labelShort").classList.value="label active",document.getElementById("labelLong").style.setProperty("--fill","0%"),document.getElementById("labelLong").classList.value="label";break;case i.longBreakSection:document.getElementById("labelFocus").style.setProperty("--fill","100%"),document.getElementById("labelFocus").classList.value="label completed",document.getElementById("labelShort").style.setProperty("--fill","100%"),document.getElementById("labelShort").classList.value="label completed",document.getElementById("labelFocus2").style.setProperty("--fill","100%"),document.getElementById("labelFocus2").classList.value="label completed",document.getElementById("labelLong").style.setProperty("--fill",t+"%"),document.getElementById("labelLong").classList.value="label active"}}(this.pomodoro.timer().elapsedPercentual())},t.prototype.updateTimerText=function(){document.getElementsByClassName("clock")[0].innerText=this.pomodoro.remainingTime()},t.prototype.playAlarm=function(){new Audio("/audio/alarm.mp3").play()},t.prototype.notifyEndSection=function(){var t=this.pomodoro.getSection(this.pomodoro.currentSectionID()-1),e=this.pomodoro.getSection();new Notification(t.label+" [Completed]",{body:e.title+" "+e.seconds/60+" minutes"})},t}(),Pomodoro=function(){function t(t,e,n,i,o){void 0===i&&(i=null),void 0===o&&(o=null),this._currentSectionID=1,this._timer=null,this._onTick=null,this._onFinish=null,this._focus=t,this._shortBreak=e,this._longBreak=n,this._onTick=i,this._onFinish=o,this._timer=new Timer(this.getSection().seconds),this.tick()}return t.prototype.currentPomodoro=function(){return Math.floor(this._currentSectionID/10)},t.prototype.getSection=function(t){t=(t=void 0===t?null:t)||this._currentSectionID;return t%10==0?this._longBreak:t%2==0?this._shortBreak:this._focus},t.prototype.tick=function(){var t=this;window.pomodoroTick=setInterval(function(){t.timer().isFinished()&&(t.next(),null!=t._onFinish&&t._onFinish()),null!=t._onTick&&t._onTick()},100)},t.prototype.start=function(){this._timer.start()},t.prototype.pause=function(){this._timer.pause()},t.prototype.reset=function(){this._timer.reset()},t.prototype.next=function(){this._currentSectionID++,this._timer=new Timer(this.getSection().seconds),this.reset()},t.prototype.isPaused=function(){return this._timer.isPaused()},t.prototype.isRunning=function(){return this._timer.isRunning()},t.prototype.remainingTime=function(){return this._timer.remainingTimeFormated()},t.prototype.timer=function(){return this._timer},t.prototype.currentSectionID=function(){return this._currentSectionID},t}(),Tasks=function(){function t(){this.tasks=new Array}return t.prototype.addTask=function(t){this.tasks.push(t)},t.prototype.getTask=function(t){return this.tasks.filter(function(t){t.identifier}).shift()},t.prototype.editTask=function(e,n){this.tasks=this.tasks.map(function(t){return t=t.identifier==e?n:t})},t.prototype.removeTask=function(e){this.tasks=this.tasks.filter(function(t){return e!=t})},t.prototype.getTasks=function(){return this.tasks},t}(),Timer=function(){function t(t){this._startMoment=null,this._pauseMoment=null,this._isRunning=!1,this._isPaused=!1,this._acumulatedPausedSeconds=0,this._seconds=null,this._seconds=t}return t.prototype.start=function(){this._pauseMoment=null,this._acumulatedPausedSeconds=0,this._startMoment=new Date,this._isRunning=!0},t.prototype.pause=function(){this._isPaused?(this._acumulatedPausedSeconds+=this.timeDiff(this._pauseMoment),this._pauseMoment=null,this._isPaused=!1):(this._pauseMoment=new Date,this._isPaused=!0)},t.prototype.reset=function(){this._pauseMoment=null,this._startMoment=null,this._isRunning=!1,this._isPaused=!1,this._acumulatedPausedSeconds=0},t.prototype.elapsedSeconds=function(){return this._seconds-this.remainingSeconds()},t.prototype.remainingSeconds=function(){var t=this._seconds-(this.timeDiff(this._startMoment)-this.calculatePausedTime());return 0<=t?t:0},t.prototype.calculatePausedTime=function(){return this._acumulatedPausedSeconds+(this.isPaused()?this.timeDiff(this._pauseMoment):0)},t.prototype.remainingTimeFormated=function(){var t="",e=new Date(0);return e.setHours(0),e.setMinutes(0),e.setSeconds(this.remainingSeconds()),e.getHours()&&(t+=("0"+e.getHours()).slice(-2)+":"),t+=("0"+e.getMinutes()).slice(-2)+":"+("0"+e.getSeconds()).slice(-2)},t.prototype.elapsedPercentual=function(t){return void 0===t&&(t=!1),100*this.elapsedSeconds()/this._seconds/(t?100:1)},t.prototype.elapsedDeg=function(){return 360*this.elapsedPercentual(!0)+"deg"},t.prototype.timeDiff=function(t){return t?Math.abs(((new Date).getTime()-t.getTime())/1e3):0},t.prototype.isPaused=function(){return this._isRunning&&this._isPaused},t.prototype.isRunning=function(){return this._isRunning&&!this._isPaused},t.prototype.isFinished=function(){return this.isRunning()&&!this.isPaused()&&this.elapsedSeconds()>=this._seconds},t}(),__awaiter=this&&this.__awaiter||function(t,a,s,l){return new(s=s||Promise)(function(n,e){function i(t){try{r(l.next(t))}catch(t){e(t)}}function o(t){try{r(l.throw(t))}catch(t){e(t)}}function r(t){var e;t.done?n(t.value):((e=t.value)instanceof s?e:new s(function(t){t(e)})).then(i,o)}r((l=l.apply(t,a||[])).next())})},__generator=this&&this.__generator||function(n,i){var o,r,a,s={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]},t={next:e(0),throw:e(1),return:e(2)};return"function"==typeof Symbol&&(t[Symbol.iterator]=function(){return this}),t;function e(e){return function(t){return function(e){if(o)throw new TypeError("Generator is already executing.");for(;s;)try{if(o=1,r&&(a=2&e[0]?r.return:e[0]?r.throw||((a=r.return)&&a.call(r),0):r.next)&&!(a=a.call(r,e[1])).done)return a;switch(r=0,(e=a?[2&e[0],a.value]:e)[0]){case 0:case 1:a=e;break;case 4:return s.label++,{value:e[1],done:!1};case 5:s.label++,r=e[1],e=[0];continue;case 7:e=s.ops.pop(),s.trys.pop();continue;default:if(!(a=0<(a=s.trys).length&&a[a.length-1])&&(6===e[0]||2===e[0])){s=0;continue}if(3===e[0]&&(!a||e[1]>a[0]&&e[1]<a[3])){s.label=e[1];break}if(6===e[0]&&s.label<a[1]){s.label=a[1],a=e;break}if(a&&s.label<a[2]){s.label=a[2],s.ops.push(e);break}a[2]&&s.ops.pop(),s.trys.pop();continue}e=i.call(n,s)}catch(t){e=[6,t],r=0}finally{o=a=0}if(5&e[0])throw e[1];return{value:e[0]?e[1]:void 0,done:!0}}([e,t])}}},__spreadArray=this&&this.__spreadArray||function(t,e){for(var n=0,i=e.length,o=t.length;n<i;n++,o++)t[o]=e[n];return t};!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Alpine=e()}(this,function(){"use strict";function e(e,t){var n,i=Object.keys(e);return Object.getOwnPropertySymbols&&(n=Object.getOwnPropertySymbols(e),t&&(n=n.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),i.push.apply(i,n)),i}function p(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{};t%2?e(Object(o),!0).forEach(function(t){var e,n;e=i,t=o[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(o)):e(Object(o)).forEach(function(t){Object.defineProperty(i,t,Object.getOwnPropertyDescriptor(o,t))})}return i}function d(t){return Array.from(new Set(t))}function i(){return navigator.userAgent.includes("Node.js")||navigator.userAgent.includes("jsdom")}function w(t,e){"template"!==t.tagName.toLowerCase()?console.warn("Alpine: ["+e+"] directive should only be added to <template> tags. See https://github.com/alpinejs/alpine#"+e):1!==t.content.childElementCount&&console.warn("Alpine: <template> tag with ["+e+"] encountered with an unexpected number of root elements. Make sure <template> has a single root element. ")}function f(t){return t.toLowerCase().replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function h(n,i){var o;return function(){var t=this,e=arguments;clearTimeout(o),o=setTimeout(function(){o=null,n.apply(t,e)},i)}}var r=function(t,e,n){if(console.warn('Alpine Error: "'+n+'"\n\nExpression: "'+e+'"\nElement:',t),!i())throw Object.assign(n,{el:t,expression:e}),n};function s(t,e){var n=e.el,i=e.expression;try{var o=t();return o instanceof Promise?o.catch(function(t){return r(n,i,t)}):o}catch(t){r(n,i,t)}}function l(t,e,n,i){return void 0===i&&(i={}),s(function(){return"function"==typeof e?e.call(n):new Function(__spreadArray(["$data"],Object.keys(i)),"var __alpine_result; with($data) { __alpine_result = "+e+" }; return __alpine_result").apply(void 0,__spreadArray([n],Object.values(i)))},{el:t,expression:e})}var o=/^x-(on|bind|data|text|html|model|if|for|show|cloak|transition|ref|spread)\b/;function a(t){t=u(t.name);return o.test(t)}function m(t,e,n){var i,o=Array.from(t.attributes).filter(a).map(c),r=o.filter(function(t){return"spread"===t.type})[0];return r&&(e=l(t,r.expression,e.$data),o=o.concat(Object.entries(e).map(function(t){return c({name:t[0],value:t[1]})}))),n?o.filter(function(t){return t.type===n}):(i=["bind","model","show","catch-all"],o.sort(function(t,e){t=-1===i.indexOf(t.type)?"catch-all":t.type,e=-1===i.indexOf(e.type)?"catch-all":e.type;return i.indexOf(t)-i.indexOf(e)}))}function c(t){var e=t.name,n=t.value,i=u(e),t=i.match(o),e=i.match(/:([a-zA-Z0-9\-:]+)/),i=i.match(/\.[^.\]]+(?=[^\]]*$)/g)||[];return{type:t?t[1]:null,value:e?e[1]:null,modifiers:i.map(function(t){return t.replace(".","")}),expression:n}}function u(t){return t.startsWith("@")?t.replace("@","x-on:"):t.startsWith(":")?t.replace(":","x-bind:"):t}function v(t,e){return void 0===e&&(e=Boolean),t.split(" ").filter(e)}var g="in",b="out",y="cancelled";function E(t,e,n,i,o){if(o=void 0===o?!1:o)return e();if(!t.__x_transition||t.__x_transition.type!==g){var r,a,s,l=m(t,i,"transition"),c=m(t,i,"show")[0];if(c&&c.modifiers.includes("transition")){if((u=c.modifiers).includes("out")&&!u.includes("in"))return e();var u=u.includes("in")&&u.includes("out")?u.filter(function(t,e){return e<u.indexOf("out")}):u;o=t,r=e,a=n,s={duration:_(c=u,"duration",150),origin:_(c,"origin","center"),first:{opacity:0,scale:_(c,"scale",95)},second:{opacity:1,scale:100}},S(o,c,r,function(){},a,s,g)}else l.some(function(t){return["enter","enter-start","enter-end"].includes(t.value)})?(r=t,a=i,s=e,t=n,n=v(D(((i=l).find(function(t){return"enter"===t.value})||{expression:""}).expression,r,a)),l=v(D((i.find(function(t){return"enter-start"===t.value})||{expression:""}).expression,r,a)),a=v(D((i.find(function(t){return"enter-end"===t.value})||{expression:""}).expression,r,a)),O(r,n,l,a,s,function(){},g,t)):e()}}function x(t,e,n,i,o){if(o=void 0===o?!1:o)return e();if(!t.__x_transition||t.__x_transition.type!==b){var r=m(t,i,"transition"),a=m(t,i,"show")[0];if(a&&a.modifiers.includes("transition")){var s=a.modifiers;if(s.includes("in")&&!s.includes("out"))return e();var l=s.includes("in")&&s.includes("out");(function(t,e,n,i,o){n={duration:n?_(e,"duration",150):_(e,"duration",150)/2,origin:_(e,"origin","center"),first:{opacity:1,scale:100},second:{opacity:0,scale:_(e,"scale",95)}};S(t,e,function(){},i,o,n,b)})(t,s=l?s.filter(function(t,e){return e>s.indexOf("out")}):s,l,e,n)}else r.some(function(t){return["leave","leave-start","leave-end"].includes(t.value)})?(o=t,a=i,l=e,t=n,n=v(D(((i=r).find(function(t){return"leave"===t.value})||{expression:""}).expression,o,a)),r=v(D((i.find(function(t){return"leave-start"===t.value})||{expression:""}).expression,o,a)),a=v(D((i.find(function(t){return"leave-end"===t.value})||{expression:""}).expression,o,a)),O(o,n,r,a,function(){},l,b,t)):e()}}function _(t,e,n){if(-1===t.indexOf(e))return n;var i=t[t.indexOf(e)+1];if(!i)return n;if("scale"===e&&!C(i))return n;if("duration"===e){n=i.match(/([0-9]+)ms/);if(n)return n[1]}return"origin"===e&&["top","right","left","center","bottom"].includes(t[t.indexOf(e)+2])?[i,t[t.indexOf(e)+2]].join(" "):i}function S(t,e,n,i,o,r,a){t.__x_transition&&t.__x_transition.cancel&&t.__x_transition.cancel();var s=t.style.opacity,l=t.style.transform,c=t.style.transformOrigin,u=!e.includes("opacity")&&!e.includes("scale"),d=u||e.includes("opacity"),f=u||e.includes("scale"),e={start:function(){d&&(t.style.opacity=r.first.opacity),f&&(t.style.transform="scale("+r.first.scale/100+")")},during:function(){f&&(t.style.transformOrigin=r.origin),t.style.transitionProperty=[d?"opacity":"",f?"transform":""].join(" ").trim(),t.style.transitionDuration=r.duration/1e3+"s",t.style.transitionTimingFunction="cubic-bezier(0.4, 0.0, 0.2, 1)"},show:function(){n()},end:function(){d&&(t.style.opacity=r.second.opacity),f&&(t.style.transform="scale("+r.second.scale/100+")")},hide:function(){i()},cleanup:function(){d&&(t.style.opacity=s),f&&(t.style.transform=l),f&&(t.style.transformOrigin=c),t.style.transitionProperty=null,t.style.transitionDuration=null,t.style.transitionTimingFunction=null}};T(t,e,a,o)}var D=function(t,e,n){return"function"==typeof t?n.evaluateReturnExpression(e,t):t};function O(e,n,i,o,t,r,a,s){e.__x_transition&&e.__x_transition.cancel&&e.__x_transition.cancel();var l=e.__x_original_classes||[];T(e,{start:function(){var t;(t=e.classList).add.apply(t,i)},during:function(){var t;(t=e.classList).add.apply(t,n)},show:function(){t()},end:function(){var t;(t=e.classList).remove.apply(t,i.filter(function(t){return!l.includes(t)})),(t=e.classList).add.apply(t,o)},hide:function(){r()},cleanup:function(){var t;(t=e.classList).remove.apply(t,n.filter(function(t){return!l.includes(t)})),(t=e.classList).remove.apply(t,o.filter(function(t){return!l.includes(t)}))}},a,s)}function T(e,n,t,i){var o=k(function(){n.hide(),e.isConnected&&n.cleanup(),delete e.__x_transition});e.__x_transition={type:t,cancel:k(function(){i(y),o()}),finish:o,nextFrame:null},n.start(),n.during(),e.__x_transition.nextFrame=requestAnimationFrame(function(){var t=1e3*Number(getComputedStyle(e).transitionDuration.replace(/,.*/,"").replace("s",""));0===t&&(t=1e3*Number(getComputedStyle(e).animationDuration.replace("s",""))),n.show(),e.__x_transition.nextFrame=requestAnimationFrame(function(){n.end(),setTimeout(e.__x_transition.finish,t)})})}function C(t){return!Array.isArray(t)&&!isNaN(t)}function k(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}function A(s,l,t,c,u){w(l,"x-for");var d=n("function"==typeof t?s.evaluateReturnExpression(l,t):t),f=function(t,e,n,i){var o=m(e,t,"if")[0];if(o&&!t.evaluateReturnExpression(e,o.expression))return[];i=t.evaluateReturnExpression(e,n.items,i);C(i)&&0<=i&&(i=Array.from(Array(i).keys(),function(t){return t+1}));return i}(s,l,d,u),h=l;f.forEach(function(t,e){var n,i,o,r=function(t,e,n,i,o){o=o?p({},o):{};o[t.item]=e,t.index&&(o[t.index]=n);t.collection&&(o[t.collection]=i);return o}(d,t,e,f,u()),i=(i=e,o=r,(e=m(n=l,t=s,"bind").filter(function(t){return"key"===t.value})[0])?t.evaluateReturnExpression(n,e.expression,function(){return o}):i),a=function(t,e){if(t&&void 0!==t.__x_for_key){if(t.__x_for_key===e)return t;for(var n=t;n;){if(n.__x_for_key===e)return n.parentElement.insertBefore(n,t);n=!(!n.nextElementSibling||void 0===n.nextElementSibling.__x_for_key)&&n.nextElementSibling}}}(h.nextElementSibling,i);a?(delete a.__x_for_key,a.__x_for=r,s.updateElements(a,function(){return a.__x_for})):(E(a=function(t,e){t=document.importNode(t.content,!0);return e.parentElement.insertBefore(t,e.nextElementSibling),e.nextElementSibling}(l,h),function(){},function(){},s,c),a.__x_for=r,s.initializeElements(a,function(){return a.__x_for})),(h=a).__x_for_key=i}),function(t,n){var i=!(!t.nextElementSibling||void 0===t.nextElementSibling.__x_for_key)&&t.nextElementSibling;for(;i;)!function(){var t=i,e=i.nextElementSibling;x(i,function(){t.remove()},function(){},n),i=!(!e||void 0===e.__x_for_key)&&e}()}(h,s)}function n(t){var e=/,([^,\}\]]*)(?:,([^,\}\]]*))?$/,n=String(t).match(/([\s\S]*?)\s+(?:in|of)\s+([\s\S]*)/);if(n){var i={};i.items=n[2].trim();t=n[1].trim().replace(/^\(|\)$/g,""),n=t.match(e);return n?(i.item=t.replace(e,"").trim(),i.index=n[1].trim(),n[2]&&(i.collection=n[2].trim())):i.item=t,i}}function P(t,e,n,i,o,r,a){var s,l,c,u=t.evaluateReturnExpression(e,i,o);"value"===n?gt.ignoreFocusedForValueBinding&&document.activeElement.isSameNode(e)||(void 0===u&&String(i).match(/\./)&&(u=""),"radio"===e.type?void 0===e.attributes.value&&"bind"===r?e.value=u:"bind"!==r&&(e.checked=e.value==u):"checkbox"===e.type?"boolean"==typeof u||[null,void 0].includes(u)||"bind"!==r?"bind"!==r&&(Array.isArray(u)?e.checked=u.some(function(t){return t==e.value}):e.checked=!!u):e.value=String(u):"SELECT"===e.tagName?(l=e,c=[].concat(u).map(function(t){return t+""}),Array.from(l.options).forEach(function(t){t.selected=c.includes(t.value||t.text)})):e.value!==u&&(e.value=u)):"class"===n?Array.isArray(u)?(s=e.__x_original_classes||[],e.setAttribute("class",d(s.concat(u)).join(" "))):"object"==typeof u?Object.keys(u).sort(function(t,e){return u[t]-u[e]}).forEach(function(t){u[t]?v(t).forEach(function(t){return e.classList.add(t)}):v(t).forEach(function(t){return e.classList.remove(t)})}):(s=e.__x_original_classes||[],l=u?v(u):[],e.setAttribute("class",d(s.concat(l)).join(" "))):(n=a.includes("camel")?f(n):n,[null,void 0,!1].includes(u)?e.removeAttribute(n):["disabled","checked","required","readonly","hidden","open","selected","autofocus","itemscope","multiple","novalidate","allowfullscreen","allowpaymentrequest","formnovalidate","autoplay","controls","loop","muted","playsinline","default","ismap","reversed","async","defer","nomodule"].includes(n)?I(e,n,n):I(e,n,u))}function I(t,e,n){t.getAttribute(e)!=n&&t.setAttribute(e,n)}function N(n,i,o,r,a,s){void 0===s&&(s={});var l,t,c,u={passive:r.includes("passive")};r.includes("camel")&&(o=f(o)),c=r.includes("away")?(l=document,function(t){i.contains(t.target)||i.offsetWidth<1&&i.offsetHeight<1||(M(n,a,t,s),r.includes("once")&&document.removeEventListener(o,c,u))}):(l=r.includes("window")?window:r.includes("document")?document:i,function(e){l!==window&&l!==document||document.body.contains(i)?["keydown","keyup"].includes(o)&&function(e,t){var n=t.filter(function(t){return!["window","document","prevent","stop"].includes(t)});n.includes("debounce")&&(o=n.indexOf("debounce"),n.splice(o,C((n[o+1]||"invalid-wait").split("ms")[0])?2:1));if(0===n.length)return!1;if(1===n.length&&n[0]===B(e.key))return!1;var i=["ctrl","shift","alt","meta","cmd","super"].filter(function(t){return n.includes(t)});if(n=n.filter(function(t){return!i.includes(t)}),0<i.length){var o=i.filter(function(t){return e[(t="cmd"===t||"super"===t?"meta":t)+"Key"]});if(o.length===i.length&&n[0]===B(e.key))return!1}return!0}(e,r)||(r.includes("prevent")&&e.preventDefault(),r.includes("stop")&&e.stopPropagation(),r.includes("self")&&e.target!==i||M(n,a,e,s).then(function(t){!1===t?e.preventDefault():r.includes("once")&&l.removeEventListener(o,c,u)})):l.removeEventListener(o,c,u)}),r.includes("debounce")&&(t=C((t=r[r.indexOf("debounce")+1]||"invalid-wait").split("ms")[0])?Number(t.split("ms")[0]):250,c=h(c,t)),l.addEventListener(o,c,u)}function M(t,e,n,i){return t.evaluateCommandExpression(n.target,e,function(){return p(p({},i()),{},{$event:n})})}function B(t){switch(t){case"/":return"slash";case" ":case"Spacebar":return"space";default:return t&&t.replace(/([a-z])([A-Z])/g,"$1-$2").replace(/[_\s]/,"-").toLowerCase()}}function R(t,e,n,i,o){var r="select"===e.tagName.toLowerCase()||["checkbox","radio"].includes(e.type)||n.includes("lazy")?"change":"input";N(t,e,r,n,i+" = rightSideOfExpression($event, "+i+")",function(){return p(p({},o()),{},{rightSideOfExpression:function(i,o,t){"radio"===i.type&&(i.hasAttribute("name")||i.setAttribute("name",t));return function(t,e){if(t instanceof CustomEvent&&t.detail)return t.detail;if("checkbox"===i.type){if(Array.isArray(e)){var n=o.includes("number")?L(t.target.value):t.target.value;return t.target.checked?e.concat([n]):e.filter(function(t){return!(t==n)})}return t.target.checked}if("select"===i.tagName.toLowerCase()&&i.multiple)return o.includes("number")?Array.from(t.target.selectedOptions).map(function(t){return L(t.value||t.text)}):Array.from(t.target.selectedOptions).map(function(t){return t.value||t.text});t=t.target.value;return o.includes("number")?L(t):o.includes("trim")?t.trim():t}}(e,n,i)})})}function L(t){var e=t?parseFloat(t):null;return C(e)?e:t}var j=Array.isArray,F=Object.getPrototypeOf,$=(Object.create,Object.defineProperty),z=(Object.defineProperties,Object.isExtensible),X=Object.getOwnPropertyDescriptor,Y=Object.getOwnPropertyNames,H=Object.getOwnPropertySymbols,W=Object.preventExtensions,K=Object.hasOwnProperty,t=Array.prototype,U=(t.push,t.concat);t.map;function q(t){return void 0===t}function G(t){return"function"==typeof t}var V=new WeakMap;function Z(t,e){V.set(t,e)}var Q=function(t){return V.get(t)||t};function J(t,e){return t.valueIsObservable(e)?t.getProxy(e):e}function tt(n,i,o){U.call(Y(o),H(o)).forEach(function(t){var e=X(o,t);e.configurable||(e=ft(n,e,J)),$(i,t,e)}),W(i)}var et=(nt.prototype.get=function(t,e){var n=this.originalTarget,i=this.membrane,o=n[e];return(0,i.valueObserved)(n,e),i.getProxy(o)},nt.prototype.set=function(t,e,n){var i=this.originalTarget,o=this.membrane.valueMutated;return i[e]!==n?(i[e]=n,o(i,e)):"length"===e&&j(i)&&o(i,e),!0},nt.prototype.deleteProperty=function(t,e){var n=this.originalTarget,i=this.membrane.valueMutated;return delete n[e],i(n,e),!0},nt.prototype.apply=function(t,e,n){},nt.prototype.construct=function(t,e,n){},nt.prototype.has=function(t,e){var n=this.originalTarget;return(0,this.membrane.valueObserved)(n,e),e in n},nt.prototype.ownKeys=function(t){var e=this.originalTarget;return U.call(Y(e),H(e))},nt.prototype.isExtensible=function(t){var e=z(t);if(!e)return e;var n=this.originalTarget,i=this.membrane,e=z(n);return e||tt(i,t,n),e},nt.prototype.setPrototypeOf=function(t,e){},nt.prototype.getPrototypeOf=function(t){var e=this.originalTarget;return F(e)},nt.prototype.getOwnPropertyDescriptor=function(t,e){var n=this.originalTarget,i=this.membrane;(0,this.membrane.valueObserved)(n,e);var o=X(n,e);if(q(o))return o;n=X(t,e);return q(n)?((o=ft(i,o,J)).configurable||$(t,e,o),o):n},nt.prototype.preventExtensions=function(t){var e=this.originalTarget;return tt(this.membrane,t,e),W(e),!0},nt.prototype.defineProperty=function(t,e,n){var i,o=this.originalTarget,r=this.membrane,a=r.valueMutated,s=n.configurable;return K.call(n,"writable")&&!K.call(n,"value")&&(i=X(o,e),n.value=i.value),$(o,e,(i=n,K.call(i,"value")&&(i.value=Q(i.value)),i)),!1===s&&$(t,e,ft(r,n,J)),a(o,e),!0},nt);function nt(t,e){this.originalTarget=e,this.membrane=t}function it(t,e){return t.valueIsObservable(e)?t.getReadOnlyProxy(e):e}var ot=(rt.prototype.get=function(t,e){var n=this.membrane,i=this.originalTarget,o=i[e];return(0,n.valueObserved)(i,e),n.getReadOnlyProxy(o)},rt.prototype.set=function(t,e,n){return!1},rt.prototype.deleteProperty=function(t,e){return!1},rt.prototype.apply=function(t,e,n){},rt.prototype.construct=function(t,e,n){},rt.prototype.has=function(t,e){var n=this.originalTarget;return(0,this.membrane.valueObserved)(n,e),e in n},rt.prototype.ownKeys=function(t){var e=this.originalTarget;return U.call(Y(e),H(e))},rt.prototype.setPrototypeOf=function(t,e){},rt.prototype.getOwnPropertyDescriptor=function(t,e){var n=this.originalTarget,i=this.membrane;(0,i.valueObserved)(n,e);var o=X(n,e);if(q(o))return o;n=X(t,e);return q(n)?(o=ft(i,o,it),K.call(o,"set")&&(o.set=void 0),o.configurable||$(t,e,o),o):n},rt.prototype.preventExtensions=function(t){return!1},rt.prototype.defineProperty=function(t,e,n){return!1},rt);function rt(t,e){this.originalTarget=e,this.membrane=t}function at(t){var e=void 0;return j(t)?e=[]:"object"==typeof t&&(e={}),e}var st=Object.prototype;function lt(t){if(null===t)return!1;if("object"!=typeof t)return!1;if(j(t))return!0;t=F(t);return t===st||null===t||null===F(t)}function ct(t,e){}function ut(t,e){}function dt(t){return t}function ft(e,t,n){var i=t.set,o=t.get;return K.call(t,"value")?t.value=n(e,t.value):(q(o)||(t.get=function(){return n(e,o.call(Q(this)))}),q(i)||(t.set=function(t){i.call(Q(this),e.unwrapProxy(t))})),t}var ht=(pt.prototype.getProxy=function(t){var e=Q(t),n=this.valueDistortion(e);if(this.valueIsObservable(n)){e=this.getReactiveState(e,n);return e.readOnly===t?t:e.reactive}return n},pt.prototype.getReadOnlyProxy=function(t){t=Q(t);var e=this.valueDistortion(t);return this.valueIsObservable(e)?this.getReactiveState(t,e).readOnly:e},pt.prototype.unwrapProxy=function(t){return Q(t)},pt.prototype.getReactiveState=function(e,n){var t=this.objectGraph,i=t.get(n);if(i)return i;var o=this;return t.set(n,i={get reactive(){var t=new et(o,n),t=new Proxy(at(n),t);return Z(t,e),$(this,"reactive",{value:t}),t},get readOnly(){var t=new ot(o,n),t=new Proxy(at(n),t);return Z(t,e),$(this,"readOnly",{value:t}),t}}),i},pt);function pt(t){var e,n,i;this.valueDistortion=dt,this.valueMutated=ut,this.valueObserved=ct,this.valueIsObservable=lt,this.objectGraph=new WeakMap,q(t)||(e=t.valueDistortion,n=t.valueMutated,i=t.valueObserved,t=t.valueIsObservable,this.valueDistortion=G(e)?e:dt,this.valueMutated=G(n)?n:ut,this.valueObserved=G(i)?i:ct,this.valueIsObservable=G(t)?t:lt)}var mt=(vt.prototype.getUnobservedData=function(){return t=this.membrane,e=this.$data,n=t.unwrapProxy(e),i={},Object.keys(n).forEach(function(t){["$el","$refs","$nextTick","$watch"].includes(t)||(i[t]=n[t])}),i;var t,e,n,i},vt.prototype.wrapDataInObservable=function(t){var e,n,r=this,a=h(function(){r.updateElements(r.$el)},0);return e=t,n=function(i,o){r.watchers[o]?r.watchers[o].forEach(function(t){return t(i[o])}):Array.isArray(i)?Object.keys(r.watchers).forEach(function(n){var t=n.split(".");"length"!==o&&t.reduce(function(t,e){return Object.is(i,t[e])&&r.watchers[n].forEach(function(t){return t(i)}),t[e]},r.unobservedData)}):Object.keys(r.watchers).filter(function(t){return t.includes(".")}).forEach(function(n){var t=n.split(".");o===t[t.length-1]&&t.reduce(function(t,e){return Object.is(i,t)&&r.watchers[n].forEach(function(t){return t(i[o])}),t[e]},r.unobservedData)}),r.pauseReactivity||a()},{data:(t=new ht({valueMutated:function(t,e){n(t,e)}})).getProxy(e),membrane:t}},vt.prototype.walkAndSkipNestedComponents=function(t,e,n){var i=this;void 0===n&&(n=function(){}),function t(e,n){if(!1!==n(e))for(var i=e.firstElementChild;i;)t(i,n),i=i.nextElementSibling}(t,function(t){return t.hasAttribute("x-data")&&!t.isSameNode(i.$el)?(t.__x||n(t),!1):e(t)})},vt.prototype.initializeElements=function(t,e,n){var i=this;void 0===e&&(e=function(){}),void 0===n&&(n=!1),this.walkAndSkipNestedComponents(t,function(t){return void 0===t.__x_for_key&&(void 0===t.__x_inserted_me&&void i.initializeElement(t,e,!n))},function(t){n||(t.__x=new vt(t))}),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(t)},vt.prototype.initializeElement=function(t,e,n){void 0===n&&(n=!0),t.hasAttribute("class")&&0<m(t,this).length&&(t.__x_original_classes=v(t.getAttribute("class"))),n&&this.registerListeners(t,e),this.resolveBoundAttributes(t,!0,e)},vt.prototype.updateElements=function(t,e){var n=this;void 0===e&&(e=function(){}),this.walkAndSkipNestedComponents(t,function(t){return!(void 0!==t.__x_for_key&&!t.isSameNode(n.$el))&&void n.updateElement(t,e)},function(t){t.__x=new vt(t)}),this.executeAndClearRemainingShowDirectiveStack(),this.executeAndClearNextTickStack(t)},vt.prototype.executeAndClearNextTickStack=function(t){var e=this;t===this.$el&&0<this.nextTickStack.length&&requestAnimationFrame(function(){for(;0<e.nextTickStack.length;)e.nextTickStack.shift()()})},vt.prototype.executeAndClearRemainingShowDirectiveStack=function(){this.showDirectiveStack.reverse().map(function(n){return new Promise(function(t,e){n(t,e)})}).reduce(function(t,e){return t.then(function(){return e.then(function(t){t()})})},Promise.resolve(function(){})).catch(function(t){if(t!==y)throw t}),this.showDirectiveStack=[],this.showDirectiveLastElement=void 0},vt.prototype.updateElement=function(t,e){this.resolveBoundAttributes(t,!1,e)},vt.prototype.registerListeners=function(r,a){var s=this;m(r,this).forEach(function(t){var e=t.type,n=t.value,i=t.modifiers,o=t.expression;switch(e){case"on":N(s,r,n,i,o,a);break;case"model":R(s,r,i,o,a)}})},vt.prototype.resolveBoundAttributes=function(v,g,b){var y=this;void 0===g&&(g=!1);var _=m(v,this);_.forEach(function(t){var n,i,o,e,r,a,s,l,c=t.type,u=t.value,d=t.modifiers,f=t.expression;switch(c){case"model":P(y,v,"value",f,b,c,d);break;case"bind":if("template"===v.tagName.toLowerCase()&&"key"===u)return;P(y,v,u,f,b,c,d);break;case"text":var h=y.evaluateReturnExpression(v,f,b);a=v,l=f,void 0===(s=h)&&String(l).match(/\./)&&(s=""),a.textContent=s;break;case"html":a=y,e=f,r=b,(s=v).innerHTML=a.evaluateReturnExpression(s,e,r);break;case"show":h=y.evaluateReturnExpression(v,f,b);n=y,i=v,o=h,e=d,!0!==(r=void 0===(r=g)?!1:r)?(r=function(t,e){o?("none"!==i.style.display&&!i.__x_transition||E(i,function(){m()},e,n),t(function(){})):"none"!==i.style.display?x(i,function(){t(function(){p()})},e,n):t(function(){})},e.includes("immediate")?r(function(t){return t()},function(){}):(n.showDirectiveLastElement&&!n.showDirectiveLastElement.contains(i)&&n.executeAndClearRemainingShowDirectiveStack(),n.showDirectiveStack.push(r),n.showDirectiveLastElement=i)):(o?m:p)();break;case"if":if(_.some(function(t){return"for"===t.type}))return;h=y.evaluateReturnExpression(v,f,b);!function(t,e,n,i,o){w(e,"x-if");var r=e.nextElementSibling&&!0===e.nextElementSibling.__x_inserted_me;!n||r&&!e.__x_transition?!n&&r&&x(e.nextElementSibling,function(){e.nextElementSibling.remove()},function(){},t,i):(r=document.importNode(e.content,!0),e.parentElement.insertBefore(r,e.nextElementSibling),E(e.nextElementSibling,function(){},function(){},t,i),t.initializeElements(e.nextElementSibling,o),e.nextElementSibling.__x_inserted_me=!0)}(y,v,h,g,b);break;case"for":A(y,v,f,g,b);break;case"cloak":v.removeAttribute("x-cloak")}function p(){i.style.display="none",i.__x_is_shown=!1}function m(){1===i.style.length&&"none"===i.style.display?i.removeAttribute("style"):i.style.removeProperty("display"),i.__x_is_shown=!0}})},vt.prototype.evaluateReturnExpression=function(t,e,n){return l(t,e,this.$data,p(p({},(n=void 0===n?function(){}:n)()),{},{$dispatch:this.getDispatchFunction(t)}))},vt.prototype.evaluateCommandExpression=function(t,e,n){return i=t,o=e,r=this.$data,void 0===(a=p(p({},(n=void 0===n?function(){}:n)()),{},{$dispatch:this.getDispatchFunction(t)}))&&(a={}),s(function(){if("function"==typeof o)return Promise.resolve(o.call(r,a.$event));var t=Function,t=Object.getPrototypeOf(function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(t){return[2]})})}).constructor;if(Object.keys(r).includes(o)){var e=new Function(__spreadArray(["dataContext"],Object.keys(a)),"with(dataContext) { return "+o+" }").apply(void 0,__spreadArray([r],Object.values(a)));return"function"==typeof e?Promise.resolve(e.call(r,a.$event)):Promise.resolve()}return Promise.resolve(new t(__spreadArray(["dataContext"],Object.keys(a)),"with(dataContext) { "+o+" }").apply(void 0,__spreadArray([r],Object.values(a))))},{el:i,expression:o});var i,o,r,a},vt.prototype.getDispatchFunction=function(n){return function(t,e){void 0===e&&(e={}),n.dispatchEvent(new CustomEvent(t,{detail:e,bubbles:!0}))}},vt.prototype.listenForNewElementsToInitialize=function(){var o=this,t=this.$el;new MutationObserver(function(i){for(var t=0;t<i.length;t++)!function(t){var e,n=i[t].target.closest("[x-data]");if(!n||!n.isSameNode(o.$el))return;"attributes"===i[t].type&&"x-data"===i[t].attributeName&&(n=i[t].target.getAttribute("x-data")||"{}",e=l(o.$el,n,{$el:o.$el}),Object.keys(e).forEach(function(t){o.$data[t]!==e[t]&&(o.$data[t]=e[t])})),0<i[t].addedNodes.length&&i[t].addedNodes.forEach(function(t){1!==t.nodeType||t.__x_inserted_me||(!t.matches("[x-data]")||t.__x?o.initializeElements(t):t.__x=new vt(t))})}(t)}).observe(t,{childList:!0,attributes:!0,subtree:!0})},vt.prototype.getRefsProxy=function(){var i=this;return new Proxy({},{get:function(t,e){return"$isAlpineProxy"===e||(i.walkAndSkipNestedComponents(i.$el,function(t){t.hasAttribute("x-ref")&&t.getAttribute("x-ref")===e&&(n=t)}),n);var n}})},vt);function vt(t,e){var i=this;void 0===e&&(e=null),this.$el=t;var n=this.$el.getAttribute("x-data"),o=""===n?"{}":n,n=this.$el.getAttribute("x-init"),r={$el:this.$el},a=(e||this).$el;Object.entries(gt.magicProperties).forEach(function(t){var e=t[0],n=t[1];Object.defineProperty(r,"$"+e,{get:function(){return n(a)}})}),this.unobservedData=e?e.getUnobservedData():l(t,o,r);var s,t=this.wrapDataInObservable(this.unobservedData),o=t.membrane,t=t.data;this.$data=t,this.membrane=o,this.unobservedData.$el=this.$el,this.unobservedData.$refs=this.getRefsProxy(),this.nextTickStack=[],this.unobservedData.$nextTick=function(t){i.nextTickStack.push(t)},this.watchers={},this.unobservedData.$watch=function(t,e){i.watchers[t]||(i.watchers[t]=[]),i.watchers[t].push(e)},Object.entries(gt.magicProperties).forEach(function(t){var e=t[0],n=t[1];Object.defineProperty(i.unobservedData,"$"+e,{get:function(){return n(a,this.$el)}})}),this.showDirectiveStack=[],this.showDirectiveLastElement,e||gt.onBeforeComponentInitializeds.forEach(function(t){return t(i)}),n&&!e&&(this.pauseReactivity=!0,s=this.evaluateReturnExpression(this.$el,n),this.pauseReactivity=!1),this.initializeElements(this.$el,function(){},e),this.listenForNewElementsToInitialize(),"function"==typeof s&&s.call(this.$data),e||setTimeout(function(){gt.onComponentInitializeds.forEach(function(t){return t(i)})},0)}var gt={version:"2.8.2",pauseMutationObserver:!1,magicProperties:{},onComponentInitializeds:[],onBeforeComponentInitializeds:[],ignoreFocusedForValueBinding:!1,start:function(){return __awaiter(this,void 0,void 0,function(){var e=this;return __generator(this,function(t){switch(t.label){case 0:return i()?[3,2]:[4,new Promise(function(t){"loading"==document.readyState?document.addEventListener("DOMContentLoaded",t):t()})];case 1:t.sent(),t.label=2;case 2:return this.discoverComponents(function(t){e.initializeComponent(t)}),document.addEventListener("turbolinks:load",function(){e.discoverUninitializedComponents(function(t){e.initializeComponent(t)})}),this.listenForNewUninitializedComponentsAtRunTime(),[2]}})})},discoverComponents:function(e){document.querySelectorAll("[x-data]").forEach(function(t){e(t)})},discoverUninitializedComponents:function(e,t){t=((t=void 0===t?null:t)||document).querySelectorAll("[x-data]");Array.from(t).filter(function(t){return void 0===t.__x}).forEach(function(t){e(t)})},listenForNewUninitializedComponentsAtRunTime:function(){var n=this,t=document.querySelector("body");new MutationObserver(function(t){if(!n.pauseMutationObserver)for(var e=0;e<t.length;e++)0<t[e].addedNodes.length&&t[e].addedNodes.forEach(function(t){1===t.nodeType&&(t.parentElement&&t.parentElement.closest("[x-data]")||n.discoverUninitializedComponents(function(t){n.initializeComponent(t)},t.parentElement))})}).observe(t,{childList:!0,attributes:!0,subtree:!0})},initializeComponent:function(t){if(!t.__x)try{t.__x=new mt(t)}catch(t){setTimeout(function(){throw t},0)}},clone:function(t,e){e.__x||(e.__x=new mt(e,t))},addMagicProperty:function(t,e){this.magicProperties[t]=e},onComponentInitialized:function(t){this.onComponentInitializeds.push(t)},onBeforeComponentInitialized:function(t){this.onBeforeComponentInitializeds.push(t)}};return i()||(window.Alpine=gt,window.deferLoadingAlpine?window.deferLoadingAlpine(function(){window.Alpine.start()}):window.Alpine.start()),gt}),function(t,e){"object"==typeof exports&&"undefined"!=typeof module?module.exports=e():"function"==typeof define&&define.amd?define(e):(t=t||self).Sortable=e()}(this,function(){"use strict";function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n,i=arguments[e];for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}).apply(this,arguments)}function A(i){for(var t=1;t<arguments.length;t++){var o=null!=arguments[t]?arguments[t]:{},e=Object.keys(o);(e="function"==typeof Object.getOwnPropertySymbols?e.concat(Object.getOwnPropertySymbols(o).filter(function(t){return Object.getOwnPropertyDescriptor(o,t).enumerable})):e).forEach(function(t){var e,n;e=i,t=o[n=t],n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t})}return i}function o(t,e){if(null==t)return{};var n,i=function(t,e){if(null==t)return{};for(var n,i={},o=Object.keys(t),r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||(i[n]=t[n]);return i}(t,e);if(Object.getOwnPropertySymbols)for(var o=Object.getOwnPropertySymbols(t),r=0;r<o.length;r++)n=o[r],0<=e.indexOf(n)||Object.prototype.propertyIsEnumerable.call(t,n)&&(i[n]=t[n]);return i}function e(t){return function(t){if(Array.isArray(t)){for(var e=0,n=new Array(t.length);e<t.length;e++)n[e]=t[e];return n}}(t)||function(t){if(Symbol.iterator in Object(t)||"[object Arguments]"===Object.prototype.toString.call(t))return Array.from(t)}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function t(t){if("undefined"!=typeof window&&window.navigator)return!!navigator.userAgent.match(t)}var y=t(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),_=t(/Edge/i),l=t(/firefox/i),u=t(/safari/i)&&!t(/chrome/i)&&!t(/android/i),n=t(/iP(ad|od|hone)/i),r=t(/chrome/i)&&t(/android/i),s={capture:!1,passive:!1};function c(t,e,n){t.addEventListener(e,n,!y&&s)}function d(t,e,n){t.removeEventListener(e,n,!y&&s)}function f(t,e){if(e&&(">"===e[0]&&(e=e.substring(1)),t))try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch(t){return}}function P(t,e,n,i){if(t){n=n||document;do{if(null!=e&&(">"!==e[0]||t.parentNode===n)&&f(t,e)||i&&t===n)return t}while(t!==n&&(t=(o=t).host&&o!==document&&o.host.nodeType?o.host:o.parentNode))}var o;return null}var h,p=/\s+/g;function I(t,e,n){var i;t&&e&&(t.classList?t.classList[n?"add":"remove"](e):(i=(" "+t.className+" ").replace(p," ").replace(" "+e+" "," "),t.className=(i+(n?" "+e:"")).replace(p," ")))}function N(t,e,n){var i=t&&t.style;if(i){if(void 0===n)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),void 0===e?n:n[e];i[e=!(e in i||-1!==e.indexOf("webkit"))?"-webkit-"+e:e]=n+("string"==typeof n?"":"px")}}function m(t,e){var n="";if("string"==typeof t)n=t;else do{var i=N(t,"transform")}while(i&&"none"!==i&&(n=i+" "+n),!e&&(t=t.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(n)}function v(t,e,n){if(t){var i=t.getElementsByTagName(e),o=0,r=i.length;if(n)for(;o<r;o++)n(i[o],o);return i}return[]}function C(){var t=document.scrollingElement;return t||document.documentElement}function M(t,e,n,i,o){if(t.getBoundingClientRect||t===window){var r,a,s,l,c,u,d=t!==window&&t.parentNode&&t!==C()?(a=(r=t.getBoundingClientRect()).top,s=r.left,l=r.bottom,c=r.right,u=r.height,r.width):(s=a=0,l=window.innerHeight,c=window.innerWidth,u=window.innerHeight,window.innerWidth);if((e||n)&&t!==window&&(o=o||t.parentNode,!y))do{if(o&&o.getBoundingClientRect&&("none"!==N(o,"transform")||n&&"static"!==N(o,"position"))){var f=o.getBoundingClientRect();a-=f.top+parseInt(N(o,"border-top-width")),s-=f.left+parseInt(N(o,"border-left-width")),l=a+r.height,c=s+r.width;break}}while(o=o.parentNode);return i&&t!==window&&(i=(e=m(o||t))&&e.a,t=e&&e.d,e&&(l=(a/=t)+(u/=t),c=(s/=i)+(d/=i))),{top:a,left:s,bottom:l,right:c,width:d,height:u}}}function B(t,e,n){for(var i=k(t,!0),o=M(t)[e];i;){var r=M(i)[n];if(!("top"===n||"left"===n?r<=o:o<=r))return i;if(i===C())break;i=k(i,!1)}return!1}function g(t,e,n){for(var i=0,o=0,r=t.children;o<r.length;){if("none"!==r[o].style.display&&r[o]!==Bt.ghost&&r[o]!==Bt.dragged&&P(r[o],n.draggable,t,!1)){if(i===e)return r[o];i++}o++}return null}function R(t,e){for(var n=t.lastElementChild;n&&(n===Bt.ghost||"none"===N(n,"display")||e&&!f(n,e));)n=n.previousElementSibling;return n||null}function L(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)"TEMPLATE"===t.nodeName.toUpperCase()||t===Bt.clone||e&&!f(t,e)||n++;return n}function b(t){var e=0,n=0,i=C();if(t)do{var o=m(t),r=o.a,o=o.d}while(e+=t.scrollLeft*r,n+=t.scrollTop*o,t!==i&&(t=t.parentNode));return[e,n]}function k(t,e){if(!t||!t.getBoundingClientRect)return C();var n=t,i=!1;do{if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var o=N(n);if(n.clientWidth<n.scrollWidth&&("auto"==o.overflowX||"scroll"==o.overflowX)||n.clientHeight<n.scrollHeight&&("auto"==o.overflowY||"scroll"==o.overflowY)){if(!n.getBoundingClientRect||n===document.body)return C();if(i||e)return n;i=!0}}}while(n=n.parentNode);return C()}function w(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}function E(e,n){return function(){var t;h||(1===(t=arguments).length?e.call(this,t[0]):e.apply(this,t),h=setTimeout(function(){h=void 0},n))}}function j(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function x(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function S(t,e){N(t,"position","absolute"),N(t,"top",e.top),N(t,"left",e.left),N(t,"width",e.width),N(t,"height",e.height)}function D(t){N(t,"position",""),N(t,"top",""),N(t,"left",""),N(t,"width",""),N(t,"height","")}var F="Sortable"+(new Date).getTime();function O(){var e,i=[];return{captureAnimationState:function(){i=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){var e,n;"none"!==N(t,"display")&&t!==Bt.ghost&&(i.push({target:t,rect:M(t)}),e=A({},i[i.length-1].rect),!t.thisAnimationDuration||(n=m(t,!0))&&(e.top-=n.f,e.left-=n.e),t.fromRect=e)})},addAnimationState:function(t){i.push(t)},removeAnimationState:function(t){i.splice(function(t,e){for(var n in t)if(t.hasOwnProperty(n))for(var i in e)if(e.hasOwnProperty(i)&&e[i]===t[n][i])return Number(n);return-1}(i,{target:t}),1)},animateAll:function(t){var c=this;if(!this.options.animation)return clearTimeout(e),void("function"==typeof t&&t());var u=!1,d=0;i.forEach(function(t){var e=0,n=t.target,i=n.fromRect,o=M(n),r=n.prevFromRect,a=n.prevToRect,s=t.rect,l=m(n,!0);l&&(o.top-=l.f,o.left-=l.e),n.toRect=o,n.thisAnimationDuration&&w(r,o)&&!w(i,o)&&(s.top-o.top)/(s.left-o.left)==(i.top-o.top)/(i.left-o.left)&&(t=s,l=r,r=a,a=c.options,e=Math.sqrt(Math.pow(l.top-t.top,2)+Math.pow(l.left-t.left,2))/Math.sqrt(Math.pow(l.top-r.top,2)+Math.pow(l.left-r.left,2))*a.animation),w(o,i)||(n.prevFromRect=i,n.prevToRect=o,e=e||c.options.animation,c.animate(n,s,o,e)),e&&(u=!0,d=Math.max(d,e),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},e),n.thisAnimationDuration=e)}),clearTimeout(e),u?e=setTimeout(function(){"function"==typeof t&&t()},d):"function"==typeof t&&t(),i=[]},animate:function(t,e,n,i){var o,r;i&&(N(t,"transition",""),N(t,"transform",""),o=(r=m(this.el))&&r.a,r=r&&r.d,o=(e.left-n.left)/(o||1),r=(e.top-n.top)/(r||1),t.animatingX=!!o,t.animatingY=!!r,N(t,"transform","translate3d("+o+"px,"+r+"px,0)"),this.forRepaintDummy=t.offsetWidth,N(t,"transition","transform "+i+"ms"+(this.options.easing?" "+this.options.easing:"")),N(t,"transform","translate3d(0,0,0)"),"number"==typeof t.animated&&clearTimeout(t.animated),t.animated=setTimeout(function(){N(t,"transition",""),N(t,"transform",""),t.animated=!1,t.animatingX=!1,t.animatingY=!1},i))}}}var T=[],$={initializeByDefault:!0},z={mount:function(e){for(var t in $)!$.hasOwnProperty(t)||t in e||(e[t]=$[t]);T.forEach(function(t){if(t.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),T.push(e)},pluginEvent:function(e,n,i){var t=this;this.eventCanceled=!1,i.cancel=function(){t.eventCanceled=!0};var o=e+"Global";T.forEach(function(t){n[t.pluginName]&&(n[t.pluginName][o]&&n[t.pluginName][o](A({sortable:n},i)),n.options[t.pluginName]&&n[t.pluginName][e]&&n[t.pluginName][e](A({sortable:n},i)))})},initializePlugins:function(n,i,o,t){for(var e in T.forEach(function(t){var e=t.pluginName;(n.options[e]||t.initializeByDefault)&&((t=new t(n,i,n.options)).sortable=n,t.options=n.options,n[e]=t,a(o,t.defaults))}),n.options){var r;n.options.hasOwnProperty(e)&&(void 0!==(r=this.modifyOption(n,e,n.options[e]))&&(n.options[e]=r))}},getEventProperties:function(e,n){var i={};return T.forEach(function(t){"function"==typeof t.eventProperties&&a(i,t.eventProperties.call(n[t.pluginName],e))}),i},modifyOption:function(e,n,i){var o;return T.forEach(function(t){e[t.pluginName]&&t.optionListeners&&"function"==typeof t.optionListeners[n]&&(o=t.optionListeners[n].call(e[t.pluginName],i))}),o}};function X(t){var e=t.sortable,n=t.rootEl,i=t.name,o=t.targetEl,r=t.cloneEl,a=t.toEl,s=t.fromEl,l=t.oldIndex,c=t.newIndex,u=t.oldDraggableIndex,d=t.newDraggableIndex,f=t.originalEvent,h=t.putSortable,p=t.extraEventProperties;if(e=e||n&&n[F]){var m,v=e.options,t="on"+i.charAt(0).toUpperCase()+i.substr(1);!window.CustomEvent||y||_?(m=document.createEvent("Event")).initEvent(i,!0,!0):m=new CustomEvent(i,{bubbles:!0,cancelable:!0}),m.to=a||n,m.from=s||n,m.item=o||n,m.clone=r,m.oldIndex=l,m.newIndex=c,m.oldDraggableIndex=u,m.newDraggableIndex=d,m.originalEvent=f,m.pullMode=h?h.lastPutMode:void 0;var g,b=A({},p,z.getEventProperties(i,e));for(g in b)m[g]=b[g];n&&n.dispatchEvent(m),v[t]&&v[t].call(e,m)}}function Y(t,e){var n=(i=2<arguments.length&&void 0!==arguments[2]?arguments[2]:{}).evt,i=o(i,["evt"]);z.pluginEvent.bind(Bt)(t,e,A({dragEl:W,parentEl:K,ghostEl:U,rootEl:q,nextEl:G,lastDownEl:V,cloneEl:Z,cloneHidden:Q,dragStarted:dt,putSortable:ot,activeSortable:Bt.active,originalEvent:n,oldIndex:J,oldDraggableIndex:et,newIndex:tt,newDraggableIndex:nt,hideGhostForTarget:Pt,unhideGhostForTarget:It,cloneNowHidden:function(){Q=!0},cloneNowShown:function(){Q=!1},dispatchSortableEvent:function(t){H({sortable:e,name:t,originalEvent:n})}},i))}function H(t){X(A({putSortable:ot,cloneEl:Z,targetEl:W,rootEl:q,oldIndex:J,oldDraggableIndex:et,newIndex:tt,newDraggableIndex:nt},t))}var W,K,U,q,G,V,Z,Q,J,tt,et,nt,it,ot,rt,at,st,lt,ct,ut,dt,ft,ht,pt,mt,vt=!1,gt=!1,bt=[],yt=!1,_t=!1,wt=[],Et=!1,xt=[],St="undefined"!=typeof document,Dt=n,Ot=_||y?"cssFloat":"float",Tt=St&&!r&&!n&&"draggable"in document.createElement("div"),Ct=function(){if(St){if(y)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto","auto"===t.style.pointerEvents}}(),kt=function(t,e){var n=N(t),i=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),o=g(t,0,e),r=g(t,1,e),a=o&&N(o),s=r&&N(r),l=a&&parseInt(a.marginLeft)+parseInt(a.marginRight)+M(o).width,t=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+M(r).width;if("flex"===n.display)return"column"===n.flexDirection||"column-reverse"===n.flexDirection?"vertical":"horizontal";if("grid"===n.display)return n.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(o&&a.float&&"none"!==a.float){e="left"===a.float?"left":"right";return!r||"both"!==s.clear&&s.clear!==e?"horizontal":"vertical"}return o&&("block"===a.display||"flex"===a.display||"table"===a.display||"grid"===a.display||i<=l&&"none"===n[Ot]||r&&"none"===n[Ot]&&i<l+t)?"vertical":"horizontal"},At=function(t){function s(r,a){return function(t,e,n,i){var o=t.options.group.name&&e.options.group.name&&t.options.group.name===e.options.group.name;if(null==r&&(a||o))return!0;if(null==r||!1===r)return!1;if(a&&"clone"===r)return r;if("function"==typeof r)return s(r(t,e,n,i),a)(t,e,n,i);e=(a?t:e).options.group.name;return!0===r||"string"==typeof r&&r===e||r.join&&-1<r.indexOf(e)}}var e={},n=t.group;n&&"object"==i(n)||(n={name:n}),e.name=n.name,e.checkPull=s(n.pull,!0),e.checkPut=s(n.put),e.revertClone=n.revertClone,t.group=e},Pt=function(){!Ct&&U&&N(U,"display","none")},It=function(){!Ct&&U&&N(U,"display","")};St&&document.addEventListener("click",function(t){if(gt)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),gt=!1},!0);function Nt(t){if(W){t=t.touches?t.touches[0]:t;var e=(o=t.clientX,r=t.clientY,bt.some(function(t){if(!R(t)){var e=M(t),n=t[F].options.emptyInsertThreshold,i=o>=e.left-n&&o<=e.right+n,e=r>=e.top-n&&r<=e.bottom+n;return n&&i&&e?a=t:void 0}}),a);if(e){var n,i={};for(n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);i.target=i.rootEl=e,i.preventDefault=void 0,i.stopPropagation=void 0,e[F]._onDragOver(i)}}var o,r,a}function Mt(t){W&&W.parentNode[F]._isOutsideThisEl(t.target)}function Bt(t,e){if(!t||!t.nodeType||1!==t.nodeType)throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=a({},e),t[F]=this;var n,i,o={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return kt(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,e){t.setData("Text",e.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:!1!==Bt.supportPointer&&"PointerEvent"in window&&!u,emptyInsertThreshold:5};for(n in z.initializePlugins(this,t,o),o)n in e||(e[n]=o[n]);for(i in At(e),this)"_"===i.charAt(0)&&"function"==typeof this[i]&&(this[i]=this[i].bind(this));this.nativeDraggable=!e.forceFallback&&Tt,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?c(t,"pointerdown",this._onTapStart):(c(t,"mousedown",this._onTapStart),c(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(c(t,"dragover",this),c(t,"dragenter",this)),bt.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),a(this,O())}function Rt(t,e,n,i,o,r,a,s){var l,c,u=t[F],d=u.options.onMove;return!window.CustomEvent||y||_?(l=document.createEvent("Event")).initEvent("move",!0,!0):l=new CustomEvent("move",{bubbles:!0,cancelable:!0}),l.to=e,l.from=t,l.dragged=n,l.draggedRect=i,l.related=o||e,l.relatedRect=r||M(e),l.willInsertAfter=s,l.originalEvent=a,t.dispatchEvent(l),c=d?d.call(u,l,a):c}function Lt(t){t.draggable=!1}function jt(){Et=!1}function Ft(t){return setTimeout(t,0)}function $t(t){return clearTimeout(t)}Bt.prototype={constructor:Bt,_isOutsideThisEl:function(t){this.el.contains(t)||t===this.el||(ft=null)},_getDirection:function(t,e){return"function"==typeof this.options.direction?this.options.direction.call(this,t,e,W):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,i=this.el,t=this.options,o=t.preventOnFilter,r=e.type,a=e.touches&&e.touches[0]||e.pointerType&&"touch"===e.pointerType&&e,s=(a||e).target,l=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,c=t.filter;if(!function(t){xt.length=0;var e=t.getElementsByTagName("input"),n=e.length;for(;n--;){var i=e[n];i.checked&&xt.push(i)}}(i),!W&&!(/mousedown|pointerdown/.test(r)&&0!==e.button||t.disabled)&&!l.isContentEditable&&(this.nativeDraggable||!u||!s||"SELECT"!==s.tagName.toUpperCase())&&!((s=P(s,t.draggable,i,!1))&&s.animated||V===s)){if(J=L(s),et=L(s,t.draggable),"function"==typeof c){if(c.call(this,e,s,this))return H({sortable:n,rootEl:l,name:"filter",targetEl:s,toEl:i,fromEl:i}),Y("filter",n,{evt:e}),void(o&&e.cancelable&&e.preventDefault())}else if(c=c&&c.split(",").some(function(t){if(t=P(l,t.trim(),i,!1))return H({sortable:n,rootEl:t,name:"filter",targetEl:s,fromEl:i,toEl:i}),Y("filter",n,{evt:e}),!0}))return void(o&&e.cancelable&&e.preventDefault());t.handle&&!P(l,t.handle,i,!1)||this._prepareDragStart(e,a,s)}}},_prepareDragStart:function(t,e,n){var i,o=this,r=o.el,a=o.options,s=r.ownerDocument;n&&!W&&n.parentNode===r&&(i=M(n),q=r,K=(W=n).parentNode,G=W.nextSibling,V=n,it=a.group,rt={target:Bt.dragged=W,clientX:(e||t).clientX,clientY:(e||t).clientY},ct=rt.clientX-i.left,ut=rt.clientY-i.top,this._lastX=(e||t).clientX,this._lastY=(e||t).clientY,W.style["will-change"]="all",i=function(){Y("delayEnded",o,{evt:t}),Bt.eventCanceled?o._onDrop():(o._disableDelayedDragEvents(),!l&&o.nativeDraggable&&(W.draggable=!0),o._triggerDragStart(t,e),H({sortable:o,name:"choose",originalEvent:t}),I(W,a.chosenClass,!0))},a.ignore.split(",").forEach(function(t){v(W,t.trim(),Lt)}),c(s,"dragover",Nt),c(s,"mousemove",Nt),c(s,"touchmove",Nt),c(s,"mouseup",o._onDrop),c(s,"touchend",o._onDrop),c(s,"touchcancel",o._onDrop),l&&this.nativeDraggable&&(this.options.touchStartThreshold=4,W.draggable=!0),Y("delayStart",this,{evt:t}),!a.delay||a.delayOnTouchOnly&&!e||this.nativeDraggable&&(_||y)?i():Bt.eventCanceled?this._onDrop():(c(s,"mouseup",o._disableDelayedDrag),c(s,"touchend",o._disableDelayedDrag),c(s,"touchcancel",o._disableDelayedDrag),c(s,"mousemove",o._delayedDragTouchMoveHandler),c(s,"touchmove",o._delayedDragTouchMoveHandler),a.supportPointer&&c(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,a.delay)))},_delayedDragTouchMoveHandler:function(t){t=t.touches?t.touches[0]:t;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){W&&Lt(W),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var t=this.el.ownerDocument;d(t,"mouseup",this._disableDelayedDrag),d(t,"touchend",this._disableDelayedDrag),d(t,"touchcancel",this._disableDelayedDrag),d(t,"mousemove",this._delayedDragTouchMoveHandler),d(t,"touchmove",this._delayedDragTouchMoveHandler),d(t,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(t,e){e=e||"touch"==t.pointerType&&t,!this.nativeDraggable||e?this.options.supportPointer?c(document,"pointermove",this._onTouchMove):c(document,e?"touchmove":"mousemove",this._onTouchMove):(c(W,"dragend",this),c(q,"dragstart",this._onDragStart));try{document.selection?Ft(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch(t){}},_dragStarted:function(t,e){var n;vt=!1,q&&W?(Y("dragStarted",this,{evt:e}),this.nativeDraggable&&c(document,"dragover",Mt),n=this.options,t||I(W,n.dragClass,!1),I(W,n.ghostClass,!0),Bt.active=this,t&&this._appendGhost(),H({sortable:this,name:"start",originalEvent:e})):this._nulling()},_emulateDragOver:function(){if(at){this._lastX=at.clientX,this._lastY=at.clientY,Pt();for(var t=document.elementFromPoint(at.clientX,at.clientY),e=t;t&&t.shadowRoot&&(t=t.shadowRoot.elementFromPoint(at.clientX,at.clientY))!==e;)e=t;if(W.parentNode[F]._isOutsideThisEl(t),e)do{if(e[F])if(e[F]._onDragOver({clientX:at.clientX,clientY:at.clientY,target:t,rootEl:e})&&!this.options.dragoverBubble)break}while(e=(t=e).parentNode);It()}},_onTouchMove:function(t){if(rt){var e=this.options,n=e.fallbackTolerance,i=e.fallbackOffset,o=t.touches?t.touches[0]:t,r=U&&m(U,!0),a=U&&r&&r.a,s=U&&r&&r.d,e=Dt&&mt&&b(mt),a=(o.clientX-rt.clientX+i.x)/(a||1)+(e?e[0]-wt[0]:0)/(a||1),s=(o.clientY-rt.clientY+i.y)/(s||1)+(e?e[1]-wt[1]:0)/(s||1);if(!Bt.active&&!vt){if(n&&Math.max(Math.abs(o.clientX-this._lastX),Math.abs(o.clientY-this._lastY))<n)return;this._onDragStart(t,!0)}U&&(r?(r.e+=a-(st||0),r.f+=s-(lt||0)):r={a:1,b:0,c:0,d:1,e:a,f:s},r="matrix(".concat(r.a,",").concat(r.b,",").concat(r.c,",").concat(r.d,",").concat(r.e,",").concat(r.f,")"),N(U,"webkitTransform",r),N(U,"mozTransform",r),N(U,"msTransform",r),N(U,"transform",r),st=a,lt=s,at=o),t.cancelable&&t.preventDefault()}},_appendGhost:function(){if(!U){var t=this.options.fallbackOnBody?document.body:q,e=M(W,!0,Dt,!0,t),n=this.options;if(Dt){for(mt=t;"static"===N(mt,"position")&&"none"===N(mt,"transform")&&mt!==document;)mt=mt.parentNode;mt!==document.body&&mt!==document.documentElement?(mt===document&&(mt=C()),e.top+=mt.scrollTop,e.left+=mt.scrollLeft):mt=C(),wt=b(mt)}I(U=W.cloneNode(!0),n.ghostClass,!1),I(U,n.fallbackClass,!0),I(U,n.dragClass,!0),N(U,"transition",""),N(U,"transform",""),N(U,"box-sizing","border-box"),N(U,"margin",0),N(U,"top",e.top),N(U,"left",e.left),N(U,"width",e.width),N(U,"height",e.height),N(U,"opacity","0.8"),N(U,"position",Dt?"absolute":"fixed"),N(U,"zIndex","100000"),N(U,"pointerEvents","none"),Bt.ghost=U,t.appendChild(U),N(U,"transform-origin",ct/parseInt(U.style.width)*100+"% "+ut/parseInt(U.style.height)*100+"%")}},_onDragStart:function(t,e){var n=this,i=t.dataTransfer,o=n.options;Y("dragStart",this,{evt:t}),Bt.eventCanceled?this._onDrop():(Y("setupClone",this),Bt.eventCanceled||((Z=x(W)).draggable=!1,Z.style["will-change"]="",this._hideClone(),I(Z,this.options.chosenClass,!1),Bt.clone=Z),n.cloneId=Ft(function(){Y("clone",n),Bt.eventCanceled||(n.options.removeCloneOnHide||q.insertBefore(Z,W),n._hideClone(),H({sortable:n,name:"clone"}))}),e||I(W,o.dragClass,!0),e?(gt=!0,n._loopId=setInterval(n._emulateDragOver,50)):(d(document,"mouseup",n._onDrop),d(document,"touchend",n._onDrop),d(document,"touchcancel",n._onDrop),i&&(i.effectAllowed="move",o.setData&&o.setData.call(n,i,W)),c(document,"drop",n),N(W,"transform","translateZ(0)")),vt=!0,n._dragStartId=Ft(n._dragStarted.bind(n,e,t)),c(document,"selectstart",n),dt=!0,u&&N(document.body,"user-select","none"))},_onDragOver:function(n){var i,o,r,t,e,a=this.el,s=n.target,l=this.options,c=l.group,u=Bt.active,d=it===c,f=l.sort,h=ot||u,p=this,m=!1;if(!Et){if(void 0!==n.preventDefault&&n.cancelable&&n.preventDefault(),s=P(s,l.draggable,a,!0),O("dragOver"),Bt.eventCanceled)return m;if(W.contains(n.target)||s.animated&&s.animatingX&&s.animatingY||p._ignoreWhileAnimating===s)return C(!1);if(gt=!1,u&&!l.disabled&&(d?f||(o=!q.contains(W)):ot===this||(this.lastPutMode=it.checkPull(this,u,W,n))&&c.checkPut(this,u,W,n))){if(r="vertical"===this._getDirection(n,s),i=M(W),O("dragOverValid"),Bt.eventCanceled)return m;if(o)return K=q,T(),this._hideClone(),O("revert"),Bt.eventCanceled||(G?q.insertBefore(W,G):q.appendChild(W)),C(!0);var v=R(a,l.draggable);if(!v||function(t,e,n){n=M(R(n.el,n.options.draggable));return e?t.clientX>n.right+10||t.clientX<=n.right&&t.clientY>n.bottom&&t.clientX>=n.left:t.clientX>n.right&&t.clientY>n.top||t.clientX<=n.right&&t.clientY>n.bottom+10}(n,r,this)&&!v.animated){if(v===W)return C(!1);if((s=v&&a===n.target?v:s)&&(_=M(s)),!1!==Rt(q,a,W,i,s,_,n,!!s))return T(),a.appendChild(W),K=a,k(),C(!0)}else if(s.parentNode===a){var g,b,y,_=M(s),w=W.parentNode!==a,E=(E=W.animated&&W.toRect||i,D=s.animated&&s.toRect||_,x=(t=r)?E.left:E.top,e=t?E.right:E.bottom,c=t?E.width:E.height,v=t?D.left:D.top,E=t?D.right:D.bottom,D=t?D.width:D.height,!(x===v||e===E||x+c/2===v+D/2)),x=r?"top":"left",c=B(s,"top","top")||B(W,"top","top"),v=c?c.scrollTop:void 0;if(ft!==s&&(b=_[x],yt=!1,_t=!E&&l.invertSwap||w),0!==(g=function(t,e,n,i,o,r,a,s){var l=i?t.clientY:t.clientX,c=i?n.height:n.width,t=i?n.top:n.left,i=i?n.bottom:n.right,n=!1;if(!a)if(s&&pt<c*o){if(yt=!yt&&(1===ht?t+c*r/2<l:l<i-c*r/2)?!0:yt)n=!0;else if(1===ht?l<t+pt:i-pt<l)return-ht}else if(t+c*(1-o)/2<l&&l<i-c*(1-o)/2)return function(t){return L(W)<L(t)?1:-1}(e);if((n=n||a)&&(l<t+c*r/2||i-c*r/2<l))return t+c/2<l?1:-1;return 0}(n,s,_,r,E?1:l.swapThreshold,null==l.invertedSwapThreshold?l.swapThreshold:l.invertedSwapThreshold,_t,ft===s)))for(var S=L(W);(y=K.children[S-=g])&&("none"===N(y,"display")||y===U););if(0===g||y===s)return C(!1);ht=g;var D=(ft=s).nextElementSibling,w=!1,E=Rt(q,a,W,i,s,_,n,w=1===g);if(!1!==E)return 1!==E&&-1!==E||(w=1===E),Et=!0,setTimeout(jt,30),T(),w&&!D?a.appendChild(W):s.parentNode.insertBefore(W,w?D:s),c&&j(c,0,v-c.scrollTop),K=W.parentNode,void 0===b||_t||(pt=Math.abs(b-M(s)[x])),k(),C(!0)}if(a.contains(W))return C(!1)}return!1}function O(t,e){Y(t,p,A({evt:n,isOwner:d,axis:r?"vertical":"horizontal",revert:o,dragRect:i,targetRect:_,canSort:f,fromSortable:h,target:s,completed:C,onMove:function(t,e){return Rt(q,a,W,i,t,M(t),n,e)},changed:k},e))}function T(){O("dragOverAnimationCapture"),p.captureAnimationState(),p!==h&&h.captureAnimationState()}function C(t){return O("dragOverCompleted",{insertion:t}),t&&(d?u._hideClone():u._showClone(p),p!==h&&(I(W,(ot||u).options.ghostClass,!1),I(W,l.ghostClass,!0)),ot!==p&&p!==Bt.active?ot=p:p===Bt.active&&ot&&(ot=null),h===p&&(p._ignoreWhileAnimating=s),p.animateAll(function(){O("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==h&&(h.animateAll(),h._ignoreWhileAnimating=null)),(s===W&&!W.animated||s===a&&!s.animated)&&(ft=null),l.dragoverBubble||n.rootEl||s===document||(W.parentNode[F]._isOutsideThisEl(n.target),t||Nt(n)),!l.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),m=!0}function k(){tt=L(W),nt=L(W,l.draggable),H({sortable:p,name:"change",toEl:a,newIndex:tt,newDraggableIndex:nt,originalEvent:n})}},_ignoreWhileAnimating:null,_offMoveEvents:function(){d(document,"mousemove",this._onTouchMove),d(document,"touchmove",this._onTouchMove),d(document,"pointermove",this._onTouchMove),d(document,"dragover",Nt),d(document,"mousemove",Nt),d(document,"touchmove",Nt)},_offUpEvents:function(){var t=this.el.ownerDocument;d(t,"mouseup",this._onDrop),d(t,"touchend",this._onDrop),d(t,"pointerup",this._onDrop),d(t,"touchcancel",this._onDrop),d(document,"selectstart",this)},_onDrop:function(t){var e=this.el,n=this.options;tt=L(W),nt=L(W,n.draggable),Y("drop",this,{evt:t}),K=W&&W.parentNode,tt=L(W),nt=L(W,n.draggable),Bt.eventCanceled||(yt=_t=vt=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),$t(this.cloneId),$t(this._dragStartId),this.nativeDraggable&&(d(document,"drop",this),d(e,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),u&&N(document.body,"user-select",""),N(W,"transform",""),t&&(dt&&(t.cancelable&&t.preventDefault(),n.dropBubble||t.stopPropagation()),U&&U.parentNode&&U.parentNode.removeChild(U),(q===K||ot&&"clone"!==ot.lastPutMode)&&Z&&Z.parentNode&&Z.parentNode.removeChild(Z),W&&(this.nativeDraggable&&d(W,"dragend",this),Lt(W),W.style["will-change"]="",dt&&!vt&&I(W,(ot||this).options.ghostClass,!1),I(W,this.options.chosenClass,!1),H({sortable:this,name:"unchoose",toEl:K,newIndex:null,newDraggableIndex:null,originalEvent:t}),q!==K?(0<=tt&&(H({rootEl:K,name:"add",toEl:K,fromEl:q,originalEvent:t}),H({sortable:this,name:"remove",toEl:K,originalEvent:t}),H({rootEl:K,name:"sort",toEl:K,fromEl:q,originalEvent:t}),H({sortable:this,name:"sort",toEl:K,originalEvent:t})),ot&&ot.save()):tt!==J&&0<=tt&&(H({sortable:this,name:"update",toEl:K,originalEvent:t}),H({sortable:this,name:"sort",toEl:K,originalEvent:t})),Bt.active&&(null!=tt&&-1!==tt||(tt=J,nt=et),H({sortable:this,name:"end",toEl:K,originalEvent:t}),this.save())))),this._nulling()},_nulling:function(){Y("nulling",this),q=W=K=U=G=Z=V=Q=rt=at=dt=tt=nt=J=et=ft=ht=ot=it=Bt.dragged=Bt.ghost=Bt.clone=Bt.active=null,xt.forEach(function(t){t.checked=!0}),xt.length=st=lt=0},handleEvent:function(t){switch(t.type){case"drop":case"dragend":this._onDrop(t);break;case"dragenter":case"dragover":W&&(this._onDragOver(t),function(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move");t.cancelable&&t.preventDefault()}(t));break;case"selectstart":t.preventDefault()}},toArray:function(){for(var t,e=[],n=this.el.children,i=0,o=n.length,r=this.options;i<o;i++)P(t=n[i],r.draggable,this.el,!1)&&e.push(t.getAttribute(r.dataIdAttr)||function(t){var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,i=0;for(;n--;)i+=e.charCodeAt(n);return i.toString(36)}(t));return e},sort:function(t,e){var n={},i=this.el;this.toArray().forEach(function(t,e){e=i.children[e];P(e,this.options.draggable,i,!1)&&(n[t]=e)},this),e&&this.captureAnimationState(),t.forEach(function(t){n[t]&&(i.removeChild(n[t]),i.appendChild(n[t]))}),e&&this.animateAll()},save:function(){var t=this.options.store;t&&t.set&&t.set(this)},closest:function(t,e){return P(t,e||this.options.draggable,this.el,!1)},option:function(t,e){var n=this.options;if(void 0===e)return n[t];var i=z.modifyOption(this,t,e);n[t]=void 0!==i?i:e,"group"===t&&At(n)},destroy:function(){Y("destroy",this);var t=this.el;t[F]=null,d(t,"mousedown",this._onTapStart),d(t,"touchstart",this._onTapStart),d(t,"pointerdown",this._onTapStart),this.nativeDraggable&&(d(t,"dragover",this),d(t,"dragenter",this)),Array.prototype.forEach.call(t.querySelectorAll("[draggable]"),function(t){t.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),bt.splice(bt.indexOf(this.el),1),this.el=t=null},_hideClone:function(){Q||(Y("hideClone",this),Bt.eventCanceled||(N(Z,"display","none"),this.options.removeCloneOnHide&&Z.parentNode&&Z.parentNode.removeChild(Z),Q=!0))},_showClone:function(t){"clone"===t.lastPutMode?Q&&(Y("showClone",this),Bt.eventCanceled||(W.parentNode!=q||this.options.group.revertClone?G?q.insertBefore(Z,G):q.appendChild(Z):q.insertBefore(Z,W),this.options.group.revertClone&&this.animate(W,Z),N(Z,"display",""),Q=!1)):this._hideClone()}},St&&c(document,"touchmove",function(t){(Bt.active||vt)&&t.cancelable&&t.preventDefault()}),Bt.utils={on:c,off:d,css:N,find:v,is:function(t,e){return!!P(t,e,t,!1)},extend:function(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t},throttle:E,closest:P,toggleClass:I,clone:x,index:L,nextTick:Ft,cancelNextTick:$t,detectDirection:kt,getChild:g},Bt.get=function(t){return t[F]},Bt.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];(e=e[0].constructor===Array?e[0]:e).forEach(function(t){if(!t.prototype||!t.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(t));t.utils&&(Bt.utils=A({},Bt.utils,t.utils)),z.mount(t)})},Bt.create=function(t,e){return new Bt(t,e)};var zt,Xt,Yt,Ht,Wt,Kt,Ut=[],qt=!(Bt.version="1.13.0");function Gt(){Ut.forEach(function(t){clearInterval(t.pid)}),Ut=[]}function Vt(){clearInterval(Kt)}var Zt,Qt=E(function(n,t,e,i){if(t.scroll){var o,r=(n.touches?n.touches[0]:n).clientX,a=(n.touches?n.touches[0]:n).clientY,s=t.scrollSensitivity,l=t.scrollSpeed,c=C(),u=!1;Xt!==e&&(Xt=e,Gt(),zt=t.scroll,o=t.scrollFn,!0===zt&&(zt=k(e,!0)));var d=0,f=zt;do{var h=f,p=M(h),m=p.top,v=p.bottom,g=p.left,b=p.right,y=p.width,_=p.height,w=void 0,E=void 0,x=h.scrollWidth,S=h.scrollHeight,D=N(h),O=h.scrollLeft,p=h.scrollTop,E=h===c?(w=y<x&&("auto"===D.overflowX||"scroll"===D.overflowX||"visible"===D.overflowX),_<S&&("auto"===D.overflowY||"scroll"===D.overflowY||"visible"===D.overflowY)):(w=y<x&&("auto"===D.overflowX||"scroll"===D.overflowX),_<S&&("auto"===D.overflowY||"scroll"===D.overflowY)),O=w&&(Math.abs(b-r)<=s&&O+y<x)-(Math.abs(g-r)<=s&&!!O),p=E&&(Math.abs(v-a)<=s&&p+_<S)-(Math.abs(m-a)<=s&&!!p);if(!Ut[d])for(var T=0;T<=d;T++)Ut[T]||(Ut[T]={});Ut[d].vx==O&&Ut[d].vy==p&&Ut[d].el===h||(Ut[d].el=h,Ut[d].vx=O,Ut[d].vy=p,clearInterval(Ut[d].pid),0==O&&0==p||(u=!0,Ut[d].pid=setInterval(function(){i&&0===this.layer&&Bt.active._onTouchMove(Wt);var t=Ut[this.layer].vy?Ut[this.layer].vy*l:0,e=Ut[this.layer].vx?Ut[this.layer].vx*l:0;"function"==typeof o&&"continue"!==o.call(Bt.dragged.parentNode[F],e,t,n,Wt,Ut[this.layer].el)||j(Ut[this.layer].el,e,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=k(f,!1)));qt=u}},30),n=function(t){var e=t.originalEvent,n=t.putSortable,i=t.dragEl,o=t.activeSortable,r=t.dispatchSortableEvent,a=t.hideGhostForTarget,t=t.unhideGhostForTarget;e&&(o=n||o,a(),e=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:e,e=document.elementFromPoint(e.clientX,e.clientY),t(),o&&!o.el.contains(e)&&(r("spill"),this.onSpill({dragEl:i,putSortable:n})))};function Jt(){}function te(){}Jt.prototype={startIndex:null,dragStart:function(t){t=t.oldDraggableIndex;this.startIndex=t},onSpill:function(t){var e=t.dragEl,n=t.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();t=g(this.sortable.el,this.startIndex,this.options);t?this.sortable.el.insertBefore(e,t):this.sortable.el.appendChild(e),this.sortable.animateAll(),n&&n.animateAll()},drop:n},a(Jt,{pluginName:"revertOnSpill"}),te.prototype={onSpill:function(t){var e=t.dragEl,t=t.putSortable||this.sortable;t.captureAnimationState(),e.parentNode&&e.parentNode.removeChild(e),t.animateAll()},drop:n},a(te,{pluginName:"removeOnSpill"});var ee,ne,ie,oe,re,ae=[],se=[],le=!1,ce=!1,ue=!1;function de(n,i){se.forEach(function(t,e){e=i.children[t.sortableIndex+(n?Number(e):0)];e?i.insertBefore(t,e):i.appendChild(t)})}function fe(){ae.forEach(function(t){t!==ie&&t.parentNode&&t.parentNode.removeChild(t)})}return Bt.mount(new function(){function t(){for(var t in this.defaults={scroll:!0,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this))}return t.prototype={dragStarted:function(t){t=t.originalEvent;this.sortable.nativeDraggable?c(document,"dragover",this._handleAutoScroll):this.options.supportPointer?c(document,"pointermove",this._handleFallbackAutoScroll):t.touches?c(document,"touchmove",this._handleFallbackAutoScroll):c(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(t){t=t.originalEvent;this.options.dragOverBubble||t.rootEl||this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?d(document,"dragover",this._handleAutoScroll):(d(document,"pointermove",this._handleFallbackAutoScroll),d(document,"touchmove",this._handleFallbackAutoScroll),d(document,"mousemove",this._handleFallbackAutoScroll)),Vt(),Gt(),clearTimeout(h),h=void 0},nulling:function(){Wt=Xt=zt=qt=Kt=Yt=Ht=null,Ut.length=0},_handleFallbackAutoScroll:function(t){this._handleAutoScroll(t,!0)},_handleAutoScroll:function(e,n){var i,o=this,r=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,t=document.elementFromPoint(r,a);Wt=e,n||_||y||u?(Qt(e,this.options,t,n),i=k(t,!0),!qt||Kt&&r===Yt&&a===Ht||(Kt&&Vt(),Kt=setInterval(function(){var t=k(document.elementFromPoint(r,a),!0);t!==i&&(i=t,Gt()),Qt(e,o.options,t,n)},10),Yt=r,Ht=a)):this.options.bubbleScroll&&k(t,!0)!==C()?Qt(e,this.options,k(t,!1),!1):Gt()}},a(t,{pluginName:"scroll",initializeByDefault:!0})}),Bt.mount(te,Jt),Bt.mount(new function(){function t(){this.defaults={swapClass:"sortable-swap-highlight"}}return t.prototype={dragStart:function(t){t=t.dragEl;Zt=t},dragOverValid:function(t){var e=t.completed,n=t.target,i=t.onMove,o=t.activeSortable,r=t.changed,a=t.cancel;o.options.swap&&(t=this.sortable.el,o=this.options,n&&n!==t&&(t=Zt,Zt=!1!==i(n)?(I(n,o.swapClass,!0),n):null,t&&t!==Zt&&I(t,o.swapClass,!1)),r(),e(!0),a())},drop:function(t){var e,n,i=t.activeSortable,o=t.putSortable,r=t.dragEl,a=o||this.sortable,s=this.options;Zt&&I(Zt,s.swapClass,!1),Zt&&(s.swap||o&&o.options.swap)&&r!==Zt&&(a.captureAnimationState(),a!==i&&i.captureAnimationState(),n=Zt,t=(e=r).parentNode,s=n.parentNode,t&&s&&!t.isEqualNode(n)&&!s.isEqualNode(e)&&(o=L(e),r=L(n),t.isEqualNode(s)&&o<r&&r++,t.insertBefore(n,t.children[o]),s.insertBefore(e,s.children[r])),a.animateAll(),a!==i&&i.animateAll())},nulling:function(){Zt=null}},a(t,{pluginName:"swap",eventProperties:function(){return{swapItem:Zt}}})}),Bt.mount(new function(){function t(i){for(var t in this)"_"===t.charAt(0)&&"function"==typeof this[t]&&(this[t]=this[t].bind(this));i.options.supportPointer?c(document,"pointerup",this._deselectMultiDrag):(c(document,"mouseup",this._deselectMultiDrag),c(document,"touchend",this._deselectMultiDrag)),c(document,"keydown",this._checkKeyDown),c(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(t,e){var n="";ae.length&&ne===i?ae.forEach(function(t,e){n+=(e?", ":"")+t.textContent}):n=e.textContent,t.setData("Text",n)}}}return t.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(t){t=t.dragEl;ie=t},delayEnded:function(){this.isMultiDrag=~ae.indexOf(ie)},setupClone:function(t){var e=t.sortable,t=t.cancel;if(this.isMultiDrag){for(var n=0;n<ae.length;n++)se.push(x(ae[n])),se[n].sortableIndex=ae[n].sortableIndex,se[n].draggable=!1,se[n].style["will-change"]="",I(se[n],this.options.selectedClass,!1),ae[n]===ie&&I(se[n],this.options.chosenClass,!1);e._hideClone(),t()}},clone:function(t){var e=t.sortable,n=t.rootEl,i=t.dispatchSortableEvent,t=t.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||ae.length&&ne===e&&(de(!0,n),i("clone"),t()))},showClone:function(t){var e=t.cloneNowShown,n=t.rootEl,t=t.cancel;this.isMultiDrag&&(de(!1,n),se.forEach(function(t){N(t,"display","")}),e(),re=!1,t())},hideClone:function(t){var e=this,n=(t.sortable,t.cloneNowHidden),t=t.cancel;this.isMultiDrag&&(se.forEach(function(t){N(t,"display","none"),e.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),n(),re=!0,t())},dragStartGlobal:function(t){t.sortable;!this.isMultiDrag&&ne&&ne.multiDrag._deselectMultiDrag(),ae.forEach(function(t){t.sortableIndex=L(t)}),ae=ae.sort(function(t,e){return t.sortableIndex-e.sortableIndex}),ue=!0},dragStarted:function(t){var e,n=this,t=t.sortable;this.isMultiDrag&&(this.options.sort&&(t.captureAnimationState(),this.options.animation&&(ae.forEach(function(t){t!==ie&&N(t,"position","absolute")}),e=M(ie,!1,!0,!0),ae.forEach(function(t){t!==ie&&S(t,e)}),le=ce=!0)),t.animateAll(function(){le=ce=!1,n.options.animation&&ae.forEach(function(t){D(t)}),n.options.sort&&fe()}))},dragOver:function(t){var e=t.target,n=t.completed,t=t.cancel;ce&&~ae.indexOf(e)&&(n(!1),t())},revert:function(t){var n,i,e=t.fromSortable,o=t.rootEl,r=t.sortable,a=t.dragRect;1<ae.length&&(ae.forEach(function(t){r.addAnimationState({target:t,rect:ce?M(t):a}),D(t),t.fromRect=a,e.removeAnimationState(t)}),ce=!1,n=!this.options.removeCloneOnHide,i=o,ae.forEach(function(t,e){e=i.children[t.sortableIndex+(n?Number(e):0)];e?i.insertBefore(t,e):i.appendChild(t)}))},dragOverCompleted:function(t){var e,n=t.sortable,i=t.isOwner,o=t.insertion,r=t.activeSortable,a=t.parentEl,s=t.putSortable,t=this.options;o&&(i&&r._hideClone(),le=!1,t.animation&&1<ae.length&&(ce||!i&&!r.options.sort&&!s)&&(e=M(ie,!1,!0,!0),ae.forEach(function(t){t!==ie&&(S(t,e),a.appendChild(t))}),ce=!0),i||(ce||fe(),1<ae.length?(i=re,r._showClone(n),r.options.animation&&!re&&i&&se.forEach(function(t){r.addAnimationState({target:t,rect:oe}),t.fromRect=oe,t.thisAnimationDuration=null})):r._showClone(n)))},dragOverAnimationCapture:function(t){var e=t.dragRect,n=t.isOwner,t=t.activeSortable;ae.forEach(function(t){t.thisAnimationDuration=null}),t.options.animation&&!n&&t.multiDrag.isMultiDrag&&(oe=a({},e),e=m(ie,!0),oe.top-=e.f,oe.left-=e.e)},dragOverAnimationComplete:function(){ce&&(ce=!1,fe())},drop:function(t){var e=t.originalEvent,n=t.rootEl,i=t.parentEl,o=t.sortable,r=t.dispatchSortableEvent,a=t.oldIndex,s=t.putSortable,l=s||this.sortable;if(e){var c,u,d,f=this.options,h=i.children;if(!ue)if(f.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),I(ie,f.selectedClass,!~ae.indexOf(ie)),~ae.indexOf(ie))ae.splice(ae.indexOf(ie),1),ee=null,X({sortable:o,rootEl:n,name:"deselect",targetEl:ie,originalEvt:e});else{if(ae.push(ie),X({sortable:o,rootEl:n,name:"select",targetEl:ie,originalEvt:e}),e.shiftKey&&ee&&o.el.contains(ee)){var p=L(ee),t=L(ie);if(~p&&~t&&p!==t)for(var m,v=p<t?(m=p,t):(m=t,p+1);m<v;m++)~ae.indexOf(h[m])||(I(h[m],f.selectedClass,!0),ae.push(h[m]),X({sortable:o,rootEl:n,name:"select",targetEl:h[m],originalEvt:e}))}else ee=ie;ne=l}ue&&this.isMultiDrag&&((i[F].options.sort||i!==n)&&1<ae.length&&(c=M(ie),u=L(ie,":not(."+this.options.selectedClass+")"),!le&&f.animation&&(ie.thisAnimationDuration=null),l.captureAnimationState(),le||(f.animation&&(ie.fromRect=c,ae.forEach(function(t){var e;t.thisAnimationDuration=null,t!==ie&&(e=ce?M(t):c,t.fromRect=e,l.addAnimationState({target:t,rect:e}))})),fe(),ae.forEach(function(t){h[u]?i.insertBefore(t,h[u]):i.appendChild(t),u++}),a===L(ie)&&(d=!1,ae.forEach(function(t){t.sortableIndex!==L(t)&&(d=!0)}),d&&r("update"))),ae.forEach(function(t){D(t)}),l.animateAll()),ne=l),(n===i||s&&"clone"!==s.lastPutMode)&&se.forEach(function(t){t.parentNode&&t.parentNode.removeChild(t)})}},nullingGlobal:function(){this.isMultiDrag=ue=!1,se.length=0},destroyGlobal:function(){this._deselectMultiDrag(),d(document,"pointerup",this._deselectMultiDrag),d(document,"mouseup",this._deselectMultiDrag),d(document,"touchend",this._deselectMultiDrag),d(document,"keydown",this._checkKeyDown),d(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(t){if(!(void 0!==ue&&ue||ne!==this.sortable||t&&P(t.target,this.options.draggable,this.sortable.el,!1)||t&&0!==t.button))for(;ae.length;){var e=ae[0];I(e,this.options.selectedClass,!1),ae.shift(),X({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:e,originalEvt:t})}},_checkKeyDown:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(t){t.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},a(t,{pluginName:"multiDrag",utils:{select:function(t){var e=t.parentNode[F];e&&e.options.multiDrag&&!~ae.indexOf(t)&&(ne&&ne!==e&&(ne.multiDrag._deselectMultiDrag(),ne=e),I(t,e.options.selectedClass,!0),ae.push(t))},deselect:function(t){var e=t.parentNode[F],n=ae.indexOf(t);e&&e.options.multiDrag&&~n&&(I(t,e.options.selectedClass,!1),ae.splice(n,1))}},eventProperties:function(){var n=this,i=[],o=[];return ae.forEach(function(t){var e;i.push({multiDragElement:t,index:t.sortableIndex}),e=ce&&t!==ie?-1:ce?L(t,":not(."+n.options.selectedClass+")"):L(t),o.push({multiDragElement:t,index:e})}),{items:e(ae),clones:[].concat(se),oldIndicies:i,newIndicies:o}},optionListeners:{multiDragKey:function(t){return"ctrl"===(t=t.toLowerCase())?t="Control":1<t.length&&(t=t.charAt(0).toUpperCase()+t.substr(1)),t}}})}),Bt});